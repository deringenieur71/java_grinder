import net.mikekohn.java_grinder.CPC;
import net.mikekohn.java_grinder.Memory;

public class SpriteCPC
{
  static int Sprite[] = 
  {
    0x00, 0xC0, 0xC0, 0x00, 0x00, 0xC0, 0xC0, 0xC0,
    0xC0, 0x00, 0x00, 0x00, 0x00, 0xC4, 0xC8, 0x00,
    0xC0, 0x84, 0x0C, 0x0C, 0x48, 0xC0, 0x00, 0x00
    ,0x00, 0xC4, 0xC8, 0xC0, 0x0C, 0x0C, 0x0C, 0x0C
    ,0x0C, 0x48, 0x00, 0x00, 0x00, 0xC0, 0xC0, 0xC0
    ,0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0xC0, 0x00
    ,0x00, 0x00, 0x00, 0x84, 0x0C, 0x0C, 0x0C, 0x0C
    ,0xCC, 0xCC, 0xC8, 0x00, 0x00, 0x00, 0x00, 0x84
    ,0x0C, 0x0C, 0x0C, 0x4C, 0x30, 0x90, 0x60, 0x00
    ,0x00, 0x00, 0x00, 0x84, 0x0C, 0x0C, 0x0C, 0x4C
    ,0x30, 0x90, 0x60, 0x00, 0x00, 0x00, 0x00, 0x84
    ,0x0C, 0x0C, 0x0C, 0x4C, 0x30, 0x90, 0x60, 0x00
    ,0x00, 0x00, 0x00, 0x84, 0x0C, 0x0C, 0x0C, 0x0C
    ,0xCC, 0xCC, 0xC8, 0x00, 0x00, 0x00, 0x00, 0xC0
    ,0x0C, 0x0C, 0xC0, 0xC0, 0x0C, 0xFC, 0xC0, 0x00
    ,0x00, 0x00, 0x00, 0x00, 0xC0, 0xC0, 0xAC, 0x48
    ,0xC0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    ,0xC1, 0x42, 0x0C, 0x0C, 0x94, 0x68, 0xC0, 0x00
    ,0x00, 0x00, 0x00, 0x00, 0xC1, 0x42, 0x0C, 0x0C
    ,0x94, 0x3C, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00
    ,0xC0, 0xC0, 0xC0, 0xC0, 0xC4, 0x60, 0xC0, 0x00
    ,0x00, 0x00, 0x00, 0x00, 0xC1, 0x42, 0xF0, 0xF0
    ,0x94, 0x3C, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00
    ,0xC0, 0xC0, 0xC0, 0xC0, 0x81, 0x42, 0x00, 0x00
    ,0x00, 0x00, 0x00, 0x00, 0xC0, 0xD4, 0x0C, 0x0C
    ,0xE8, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0
    ,0xC0, 0xD4, 0x0C, 0x0C, 0x48, 0xC0, 0x00, 0x00
    ,0x00, 0x00, 0x00, 0xC0, 0xC0, 0xC0, 0xC0, 0xC0
    ,0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xC0, 0xC0
    ,0xC0, 0xD0, 0xF0, 0xF0, 0xF0, 0xC0, 0xC0, 0x00
    ,0x00, 0x00, 0xC0, 0xC0, 0xC0, 0xC0, 0xC0, 0xC0
    ,0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0xC0
    ,0xC0, 0xC0, 0xC0, 0xC0, 0xC0, 0xC0, 0xC0, 0x00
    ,0x00, 0x00, 0x00, 0x00, 0xC0, 0xC0, 0xC0, 0xC0
    ,0xC0, 0xC0, 0x00, 0x00
  };  

  static char SPRITE_HEIGHT = 23;
  static char SPRITE_WIDTH = 12;
  static char MAX_X = 79;
  
  public static void main(String args[])
  {
     char nX = 20;
     char nY = 100;
     short nXDir = 1;
     char i;
     //int puffer = 0x9000;
     
     CPC.screen(0);
     CPC.setBorderColor(0);
     
     /*
     for (int i=0; i< (SPRITE_HEIGHT*SPRITE_WIDTH); i++)
     {
       Memory.write8(puffer, (byte) Sprite[i]);
       puffer++;
     }
     */
     
     
     while(true)
     {
       nX += nXDir;
       if(nX <= 0)
       {
         nX = 0;
         nXDir = 1;
       }
       if(nX >= (char) (MAX_X - SPRITE_WIDTH))
       {
         nX = (char) (MAX_X - SPRITE_WIDTH);
         nXDir = -1;
       }
      
      i=0;          
      for (char z=0;z<SPRITE_HEIGHT;z++)
      {
        for (char k=0;k<SPRITE_WIDTH;k++)
        {
         Memory.write8(CPC.getVMEM(0xC000,(char) (nX+z), (char) (nY+k)), (byte) Sprite[i]);
         i++;         
        }
      }
      
      CPC.VSync();
      
      
      //CPC.putSpriteMode0(CPC.getVMEM(0xC000, nX, nY), SPRITE_WIDTH, SPRITE_HEIGHT, Sprite);    
          
  }
}
}


